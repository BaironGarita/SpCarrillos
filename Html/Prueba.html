<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login sin Backend</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            merriweather: ['Merriweather', 'serif'],
            montserrat: ['Montserrat', 'sans-serif'],
          },
          colors: {
            primary: '#2d3e50',
            secondary: '#005f6b',
            third: '#3498db',
            fourth: '#00b4cc',
          }
        }
      }
    }
  </script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.12.0/cdn.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/smtp.js/0.1.1/smtp.js"></script>
</head>

<body class="bg-gray-100 text-gray-900 font-montserrat">
  <div x-data="loginSystem()">
    <header class="bg-primary text-white shadow-md fixed top-0 left-0 w-full z-50">
      <nav class="fixed top-0 left-0 w-full bg-primary text-white shadow-md z-50 ">
        <div class="container mx-auto px-4">
          <div class="flex justify-between items-center h-20">
            <a href="#" class="flex-shrink-0 icono">
              <img src="../img/Logo letras blancas.svg" alt="Logo" class="h-16 w-auto">
            </a>
            <!-- Botón móvil -->
            <button class="lg:hidden focus:outline-none " type="button" id="mobile-menu-button">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                </path>
              </svg>
            </button>
            <!-- Menú de navegación -->
            <div class="hidden lg:flex lg:items-center lg:space-x-8 ml-auto" id="navigation-menu">
              <a href="../index.html"
                class="font-montserrat font-medium text-fourth transition-colors duration-300 border-b-2 border-fourth">Inicio</a>
              <a href="Servicios.html"
                class="font-montserrat font-medium hover:text-fourth transition-colors">Servicios</a>
              <a href="Nosotros.html" class="font-montserrat font-medium hover:text-fourth transition-colors"
                x-show="isLoggedIn" x-transition.opacity>Nosotros</a>
              <a href="Historia.html"
                class="font-montserrat font-medium hover:text-fourth transition-colors">Historia</a>
              <!-- Botón login/logout elegante y consistente -->
              <template x-if="!isLoggedIn">
                <button @click="showLoginModal = true"
                  class="ml-6 px-4 py-2 rounded bg-fourth text-white font-montserrat font-medium hover:bg-third transition-colors duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-fourth"
                  x-transition.opacity>
                  Iniciar Sesión
                </button>
              </template>
              <template x-if="isLoggedIn">
                <button @click="logout"
                  class="ml-6 px-4 py-2 rounded bg-red-500 text-white font-montserrat font-medium hover:bg-red-600 transition-colors duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-red-400"
                  x-transition.opacity title="Cerrar Sesión">
                  <svg xmlns="[http://www.w3.org/2000/svg" ](http://www.w3.org/2000/svg")
                    class="inline w-5 h-5 mr-1 -mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H7a2 2 0 01-2-2V7a2 2 0 012-2h4a2 2 0 012 2v1" />
                  </svg>
                  Cerrar Sesión
                </button>
              </template>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <!-- Modal de Login -->
    <div x-show="showLoginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      x-transition>
      <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md" @click.away="showLoginModal = false">
        <h2 class="text-2xl font-bold mb-4">Iniciar Sesión</h2>

        <div x-show="loginError" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
          <span x-text="loginError"></span>
        </div>

        <form @submit.prevent="login">
          <div class="mb-4">
            <label for="username" class="block text-gray-700 mb-2">Nombre de Usuario</label>
            <input type="text" id="username" x-model="username" class="w-full px-3 py-2 border border-gray-300 rounded"
              required>
          </div>

          <div class="mb-4">
            <label for="password" class="block text-gray-700 mb-2">Contraseña</label>
            <input type="password" id="password" x-model="password"
              class="w-full px-3 py-2 border border-gray-300 rounded" required>
          </div>

          <div class="flex justify-end">
            <button type="button" @click="showLoginModal = false"
              class="bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded mr-2">
              Cancelar
            </button>
            <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
              Ingresar
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Popup de bienvenida después del login -->
    <div x-show="showWelcome" x-transition.opacity.duration.500ms
      class="fixed top-8 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-6 py-4 rounded shadow-lg flex items-center space-x-2">
      <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
      </svg>
      <span>Bienvenido/a, <span x-text="username"></span>! Has iniciado sesión correctamente.</span>
    </div>
  </div>
  <script src="../JS/loginSystem.js"></script>
  <!-- Script para el menú móvil -->
  <script src="/JS/menu.js"></script>
</body>

</html>